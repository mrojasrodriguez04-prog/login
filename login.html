<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>CentroMedico</title>
  <link rel="stylesheet" href="login.css">

</head>
<body>
  <section class="contenedor">
    <div>
        <h2>Acceso Médico</h2>
      <form id="loginForm">
        
        <label for="usuario">Usuario</label>
        <input type="text" id="usuario"  required>
        
        <label for="password">Password</label>
        <input type="password" id="password"  required>
       

        <button type="submit">Siguiente</button>
      </form>
    </div>
  </section>
  <script>
  document.getElementById("loginForm").addEventListener("submit", function(event) {
      event.preventDefault();


      let nombre = document.getElementById("usuario").value.trim();
      let password = document.getElementById("password").value.trim();
 

      
      for (let i = 0; i < nombre.length; i++) {
        let c = nombre[i];
        if (!( (c >= 'a' && c <= 'z') || 
               (c >= 'A' && c <= 'Z'))) {
          alert("Para el usuario solo utiliza Letras .");
          return;
        }
      }


      if (password.length > 8) {
        alert("Macimo 8 caracteres.");
        return;
      }

      let tieneMayuscula = false;
      let tieneMinuscula = false;
      let tieneEspecial = false;
      let especiales = "!@#$%^&*()_+-=?.";
      
      for (let i = 0; i < password.length; i++) {
        let c = password[i];
        if (c >= 'A' && c <= 'Z') tieneMayuscula = true;
        else if (c >= 'a' && c <= 'z') tieneMinuscula = true;
        else if (especiales.includes(c)) tieneEspecial = true;
      }

      if (!tieneMayuscula || !tieneMinuscula || !tieneEspecial) {
        alert("La contraseña debe tener al menos: 1 mayúscula, 1 minúscula y 1 caracter especial.");
        return;
      }

    
      for (let i = 0; i < password.length - 1; i++) {
        let n1 = password.charCodeAt(i);
        let n2 = password.charCodeAt(i+1);
        if (n1 >= 48 && n1 <= 57 && n2 === n1 + 1) { 
          alert("No puede tener numeros consecutivos");
          return;
        }
      }




      localStorage.setItem("usuario", nombre);
      window.location.href = "Principal.html";
    });
  </script>
</body>
</html>